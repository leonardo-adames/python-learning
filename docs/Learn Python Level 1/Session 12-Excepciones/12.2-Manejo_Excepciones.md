# BootCamp Python Sesión 12- Las Excepciones

## 12.2 Errores & Excepciones en python


###  Manejo de excepciones

Es posible escribir programas que gestionen excepciones seleccionadas. Observe el siguiente ejemplo, que solicita al usuario una entrada hasta que se introduzca un entero válido, 
pero permite al usuario interrumpir el programa (usando Control- Co cualquier método compatible con el sistema operativo); 
tenga en cuenta que una interrupción generada por el usuario se indica lanzando la [KeyboardInterrupt](https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt) excepción.

```python
while True:
    try:
        x = int(input("Please enter a number: "))
        break
    except ValueError:
        print("Oops!  That was no valid number.  Try again...")
```

La declaración `try` funciona de la siguiente manera:

Primero, se ejecuta la cláusula `try` (las declaraciones entre las palabras clave `try`y )`.except`

Si no ocurre ninguna excepción, se omite la cláusula excepttry y se finaliza la ejecución de la instrucción.

Si se produce una excepción durante la ejecución de la trycláusula, se omite el resto de la misma. 
Si su tipo coincide con la excepción nombrada tras la exceptpalabra clave, se ejecuta la cláusula `except` y la ejecución continúa después del bloque `try/except`.

Si ocurre una excepción que no coincide con la excepción nombrada en la cláusula `except` , se pasa a tryinstrucciones externas; 
si no se encuentra ningún controlador, es una excepción no controlada y la ejecución se detiene con un mensaje de error.

Una trysentencia puede tener más de una cláusula except para especificar controladores para diferentes excepciones. Se ejecutará como máximo un controlador. 
Los controladores solo gestionan las excepciones que ocurren en la cláusula `try` correspondiente , no en otros controladores de la misma trysentencia. 
Una cláusula `except` puede nombrar varias excepciones como una tupla entre paréntesis, por ejemplo:

```python
... except (RuntimeError, TypeError, NameError):
...     pass
```
---
Una clase en una exceptcláusula coincide con las excepciones que son instancias de la propia clase o de una de sus clases derivadas (pero no al revés: 
una cláusula except que enumera una clase derivada no coincide con las instancias de sus clases base). Por ejemplo, el siguiente código imprimirá `B, C, D` en ese orden:

```python
class B(Exception):
    pass

class C(B):
    pass

class D(C):
    pass

for cls in [B, C, D]:
    try:
        raise cls()
    except D:
        print("D")
    except C:
        print("C")
    except B:
        print("B")
```

Tenga en cuenta que si las cláusulas except se invirtieran (con first), se habría impreso `B, B, B` — se activa la primera cláusula `except` coincidente `.except B`

Cuando se produce una excepción, puede tener valores asociados, también conocidos como argumentos de la excepción . La presencia y los tipos de argumentos dependen del tipo de excepción.

La cláusula except puede especificar una variable después del nombre de la excepción. Esta variable está vinculada a la instancia de la excepción, 
que normalmente tiene un args atributo que almacena los argumentos. Para mayor comodidad, 
los tipos de excepción predefinidos definen` __str__()` la impresión de todos los argumentos sin acceder explícitamente a `.args`.

```python
try:
    raise Exception('spam', 'eggs')
except Exception as inst:
    print(type(inst))    # the exception type
    print(inst.args)     # arguments stored in .args
    print(inst)          # __str__ allows args to be printed directly,
                         # but may be overridden in exception subclasses
    x, y = inst.args     # unpack args
    print('x =', x)
    print('y =', y)
```
